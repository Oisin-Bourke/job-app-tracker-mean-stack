<div>
  <mat-card>
    <section class="mat-typography">
      <h3>+ Job App</h3>
    </section>
    <mat-divider></mat-divider>
    <br>
    <div class="container">
      <form [formGroup]="createApplicationForm" (ngSubmit)="onSubmit()" class="create-form">
        <mat-form-field class="field-full-width">
          <input matInput [matDatepicker]="picker" placeholder="Choose a date" formControlName="appDate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="field-full-width">
          <label>
            <input matInput placeholder="Job Title" formControlName="jobTitle">
          </label>
        </mat-form-field>
        <mat-form-field class="field-full-width">
          <label>
            <input matInput placeholder="Company" formControlName="company">
          </label>
        </mat-form-field>
        <mat-form-field class="field-full-width">
          <label>
            <input matInput placeholder="Location" formControlName="location">
          </label>
        </mat-form-field>
        <mat-form-field class="field-full-width">
          <label>
            <input matInput formControlName="email" placeholder="Email" [ngClass]="{ 'is-invalid': submitted && createApplicationForm.controls.email.errors }">
          </label>
        </mat-form-field>
        <div *ngIf="submitted && createApplicationForm.controls.email.errors" class="invalid-feedback">
          <div *ngIf="createApplicationForm.controls.email.errors.email">Must be a valid email address</div>
        </div>
        <mat-form-field class="field-full-width">
          <label>
            <input matInput placeholder="Telephone" formControlName="telephone">
          </label>
        </mat-form-field>
        <mat-divider></mat-divider>
        <br>
        <button mat-raised-button color="accent" (click)="navigateBack()">Cancel</button>
        <div class="button-container">
          <div class="spinner-container" *ngIf="loading">
            <mat-spinner color="accent" diameter="24"></mat-spinner>
          </div>
          <button type="submit" [disabled]="loading" mat-raised-button color="primary">Save</button>
        </div>
      </form>
    </div>
  </mat-card>
</div>

